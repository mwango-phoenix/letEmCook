<h1><%= title %></h1>

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    <li class="breadcrumb-item"><a href="/categories">Categories</a></li>
    <li class="breadcrumb-item active" aria-current="page"><%= categoryId %></li>
  </ol>
</nav>

<div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
  <% if(typeof categoryByTag !== 'undefined' && categoryByTag.length > 0) { %>
  <% categoryByTag.forEach(function(recipe, index){  %>
  <a href="/recipe/<%- recipe.slug %>" class="col text-center category__link">
    <div class="category__img category__img--large shadow">
      <img src="/uploads/<%- recipe.image %>" alt="<%- recipe.name %>" loading="lazy" />
    </div>
    <div class="pt-1"><%- recipe.name %></div>
  </a>
  <% }) %>
  <% } %>
</div>

<!-- Pagination controls -->
<div class="pagination">
  <% if (currentPage > 1) { %>
  <a href="/categories/<%= categoryId %>?page=<%= currentPage - 1 %>" class="pagination-link">&laquo;</a>
  <% } %>

  <!-- add in page numbers -->
  <% for (let i = 1; i <= totalPages; i++) { %>
    <a href="/categories/<%= categoryId %>?page=<%= i %>" class="<%= currentPage === i ? 'pagination-link active' : 'pagination-link' %>"><%= i %></a>
  <% } %>  

  <% if (currentPage < totalPages) { %>
  <a href="/categories/<%= categoryId %>?page=<%= currentPage + 1 %>" class="pagination-link">&raquo;</a>
  <% } %>
</div>